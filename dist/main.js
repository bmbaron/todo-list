(()=>{"use strict";document.getElementById("form2"),document.getElementById("project-container"),document.getElementById("task-name"),document.getElementById("task-description"),document.getElementById("task-deadline"),document.getElementById("priority");const e=(()=>{let e=document.getElementById("project-view"),t=[],n=document.getElementById("form2"),d=document.getElementById("project-container"),i=document.getElementById("task-name"),l=document.getElementById("task-description"),o=document.getElementById("task-deadline"),c=document.getElementById("priority"),a=2;const s=(e,t,n,d,i)=>{let l=document.createElement("INPUT");l.setAttribute("type","date"),l.value=n;let o=document.createElement("SELECT"),c=document.createElement("OPTION");c.value="normal",c.classList.add("task-form"),c.innerHTML="normal priority";let a=document.createElement("OPTION");a.value="IMPORTANT",a.classList.add("task-form"),a.innerHTML="high priority",o.appendChild(c),o.appendChild(a),o.value=d.value;let s=document.createElement("div");s.classList.add("task-row"),s.innerHTML="<strong>"+e+"</strong><br>"+t+"<br>",s.appendChild(l),s.contentEditable=!0,"IMPORTANT"==d.value?s.style.backgroundColor="#ffccff":s.style.backgroundColor="#ccffff",s.appendChild(o),i.childNodes[1].appendChild(s)};return{addProject:r=>{if(""==r&&(r="[click to edit]"),t.length>=3)return void alert("You can only have 3 active projects. Please delete a project");t.push(r);let m=document.createElement("div");m.className="project";let u=document.createElement("div");u.innerHTML=r,u.contentEditable=!0,m.appendChild(u);let p=document.createElement("div");p.classList.add("task-area"),m.appendChild(p),e.appendChild(m);let y=document.createElement("div");y.classList.add("project-buttons"),y.id="project-buttons",m.appendChild(y);let v=document.createElement("div");v.classList.add("task-button"),v.id="task-button",v.innerHTML="create task",y.appendChild(v),v.onclick=function(){n.style.visibility="visible",n.style.height="auto",d.style.visibility="hidden",i.focus(),(e=>{document.getElementById("submit-task-button").onclick=function(){s(i.value,l.value,o.value,c,e),i.value="",l.value="",n.style.height="0",n.style.visibility="hidden",d.style.visibility="visible"}})(m)};let h=document.createElement("div");h.classList.add("finished-button"),h.id="finished-button",h.innerHTML="mark finished",y.appendChild(h),h.onclick=function(){a%2==0?(m.style.backgroundColor="lightgreen",this.innerHTML="mark incomplete"):(m.style.backgroundColor="white",this.innerHTML="mark finished"),a++};let E=document.createElement("div");E.classList.add("delete-button"),E.id="delete-button",E.innerHTML="delete project",y.appendChild(E),E.onclick=function(){this.parentNode.parentNode.remove(),t.pop()}},logTask:s}})();var t=document.getElementById("form1"),n=document.getElementById("searchbox"),d=document.getElementById("project-container"),i=(document.getElementById("task-container"),document.getElementById("project-button")),l=document.getElementById("add-button");i.onclick=function(){var i=n.value;e.addProject(i),n.value=null,t.style.visibility="hidden",d.style.visibility="visible"},n.addEventListener("keydown",(function(e){13===e.keyCode&&(e.preventDefault(),i.click())})),l.onclick=function(){t.style.visibility="visible",d.style.visibility="hidden",n.placeholder="add a project",n.focus()}})();