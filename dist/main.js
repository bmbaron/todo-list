(()=>{"use strict";document.getElementById("form2"),document.getElementById("project-container"),document.getElementById("task-name"),document.getElementById("task-description"),document.getElementById("task-deadline"),document.getElementById("priority");const e=(()=>{let e=document.getElementById("project-view"),t=[],n=document.getElementById("form2"),d=document.getElementById("project-container"),i=document.getElementById("task-name"),l=document.getElementById("task-description"),o=document.getElementById("task-deadline"),a=document.getElementById("priority"),c=2;const s=(e,t,n,d,i)=>{let l=document.createElement("div"),o=document.createElement("a");o.classList.add("delete-article"),o.innerHTML="&#10006",o.onclick=function(){this.parentNode.remove()};let a=document.createElement("INPUT");a.setAttribute("type","date"),a.value=n;let c=document.createElement("SELECT"),s=document.createElement("OPTION");s.value="normal",s.classList.add("task-form"),s.innerHTML="normal priority";let r=document.createElement("OPTION");r.value="IMPORTANT",r.classList.add("task-form"),r.innerHTML="high priority",c.appendChild(s),c.appendChild(r),c.value=d.value,l.classList.add("task-row"),l.innerHTML="<strong>"+e+"</strong><br>"+t+"<br>",l.appendChild(a),l.contentEditable=!0,"IMPORTANT"==d.value?l.style.backgroundColor="#ffccff":l.style.backgroundColor="#ccffff",c.addEventListener("change",(function(){"IMPORTANT"==c.value?l.style.backgroundColor="#ffccff":l.style.backgroundColor="#ccffff"}),!1),l.appendChild(o),l.appendChild(c),i.childNodes[1].appendChild(l)};return{addProject:r=>{if(""==r&&(r="[click to edit]"),t.length>=3)return void alert("You can only have 3 active projects. Please delete a project");t.push(r);let u=document.createElement("div");u.className="project";let m=document.createElement("div");m.innerHTML=r,m.classList.add("project-name"),m.contentEditable=!0,u.appendChild(m);let p=document.createElement("div");p.classList.add("task-area"),u.appendChild(p),e.appendChild(u);let y=document.createElement("div");y.classList.add("project-buttons"),y.id="project-buttons";let v=document.createElement("div");v.classList.add("task-button"),v.id="task-button",v.innerHTML="create task",y.appendChild(v),v.onclick=function(){var e;n.style.visibility="visible",n.style.height="auto",d.style.visibility="hidden",i.focus(),console.log("taskbutton: "+m.innerHTML),e=u,document.getElementById("submit-task-button").onclick=function(){if(""==i.value)return alert("Task name must be filled out"),!1;s(i.value,l.value,o.value,a,e),i.value="",l.value="",n.style.height="0",n.style.visibility="hidden",d.style.visibility="visible"}};let f=document.createElement("div");f.classList.add("finished-button"),f.id="finished-button",f.innerHTML="mark finished",y.appendChild(f),f.onclick=function(){c%2==0?(u.style.backgroundColor="lightgreen",this.innerHTML="mark incomplete"):(u.style.backgroundColor="white",this.innerHTML="mark finished"),c++};let h=document.createElement("div");h.classList.add("delete-button"),h.id="delete-button",h.innerHTML="delete project",y.appendChild(h),h.onclick=function(){(()=>{window.confirm("Do you really want to delete this?")&&(this.parentNode.parentNode.remove(),t.pop())})()},u.appendChild(y)},logTask:s}})();var t=document.getElementById("form1"),n=document.getElementById("searchbox"),d=document.getElementById("project-container"),i=(document.getElementById("task-container"),document.getElementById("project-button")),l=document.getElementById("add-button");i.onclick=function(){var i=n.value;e.addProject(i),n.value=null,t.style.visibility="hidden",d.style.visibility="visible"},n.addEventListener("keydown",(function(e){13===e.keyCode&&(e.preventDefault(),i.click())})),l.onclick=function(){t.style.visibility="visible",d.style.visibility="hidden",n.placeholder="add a project",n.focus()}})();