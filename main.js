(()=>{"use strict";let e=(window.screen.width<window.outerWidth?window.screen.width:window.outerWidth)<500;const t=(t,i,n)=>{t.setAttribute("placeholder",n);const l=t.getAttribute("placeholder");""==t.innerHTML&&(t.innerHTML=l),t.addEventListener("focus",(function(t){t.target.innerHTML===l&&(t.target.innerHTML=""),e&&(document.getElementById("title-container").style.visibility="hidden",document.getElementById("control-panel").style.visibility="hidden")})),t.addEventListener("blur",(function(t){""===t.target.innerHTML&&(t.target.innerHTML=l),e&&(document.getElementById("title-container").style.visibility="visible",document.getElementById("control-panel").style.visibility="visible")})),t.addEventListener("keydown",(function(e){13===e.keyCode&&(e.preventDefault(),t.blur())}))},i=(()=>{let e=document.getElementById("form2"),i=document.getElementById("project-container"),n=document.getElementById("task-name"),l=document.getElementById("task-description"),d=document.getElementById("task-deadline"),c=document.getElementById("priority"),o=document.getElementById("submit-task-button"),s=document.getElementById("cancel-button");return e.addEventListener("keydown",(function(e){if(13===e.keyCode)return e.preventDefault(),o.click(),!1})),{createTask:a=>{o.onclick=function(){if(document.getElementById("title-container").style.visibility="visible",document.getElementById("control-panel").style.visibility="visible",""!=n.value){{let e=document.createElement("div");e.classList.add("task-row");let i=document.createElement("a");i.classList.add("delete-article"),i.innerHTML="&#x24E7;",i.onclick=function(){this.parentNode.remove()},e.appendChild(i);let o=document.createElement("h2");o.contentEditable=!0,o.spellcheck=!1,t(o,"",n.value);let s=document.createElement("h4");s.classList.add("description"),s.contentEditable=!0,s.spellcheck=!1,t(s,"",l.value),e.appendChild(o),e.appendChild(s);let r=document.createElement("INPUT");r.classList.add("deadline"),r.setAttribute("type","date"),r.value=d.value;let u=document.createElement("div");u.classList.add("deadline-and-priority"),u.appendChild(r);let m=document.createElement("SELECT"),y=document.createElement("OPTION");y.value="normal",y.classList.add("task-form"),y.innerHTML="normal priority";let b=document.createElement("OPTION");b.value="IMPORTANT",b.classList.add("task-form"),b.innerHTML="high priority",m.appendChild(y),m.appendChild(b),m.value=c.value,"IMPORTANT"==c.value?(e.style.backgroundColor="#0d86bf",e.style.color="white"):(e.style.backgroundColor="#9EEBED",e.style.color="black"),m.addEventListener("change",(function(){"IMPORTANT"==m.value?(e.style.color="white",e.style.backgroundColor="#0d86bf"):(e.style.backgroundColor="#9EEBED",e.style.color="black")}),!1),u.appendChild(m),e.appendChild(u),a.childNodes[1].appendChild(e)}n.value="",l.value="",d.value="",e.style.height="0",e.style.visibility="hidden",i.style.visibility="visible"}else alert("Task name must be filled out")},s.onclick=function(){document.getElementById("title-container").style.visibility="visible",document.getElementById("control-panel").style.visibility="visible",n.value=" ",l.value="",d.value="",e.style.height="0",e.style.visibility="hidden",i.style.visibility="visible"}}}})(),n=(()=>{let e=document.getElementById("project-view"),n=[],l=[],d=document.getElementById("form2"),c=document.getElementById("project-container"),o=document.getElementById("task-name"),s=(document.getElementById("task-description"),document.getElementById("task-deadline"),document.getElementById("priority"),0);return{addProject:a=>{document.getElementById("control-panel").style.visibility="visible",n.push(a);let r=document.createElement("div");r.className="project",r.classList.add("active"),r.id=s;let u=document.createElement("div");u.innerHTML=a,u.spellcheck=!1,u.id="name"+s,u.classList.add("project-name"),u.contentEditable=!0,t(u,u.innerHTML,"[click to name project]"),r.appendChild(u);let m=document.createElement("div");m.classList.add("task-area"),r.appendChild(m),e.appendChild(r);let y=document.createElement("div");y.classList.add("project-buttons"),y.id="project-buttons"+s,s++;let b=document.createElement("button");b.classList.add("task-button"),b.id="task-button",b.innerHTML="create task",y.appendChild(b),b.onclick=function(){document.getElementById("title-container").style.visibility="hidden",document.getElementById("control-panel").style.visibility="hidden",d.style.visibility="visible",d.style.height="auto",c.style.visibility="hidden",o.focus(),i.createTask(r)};let p=document.createElement("button");p.classList.add("finished-button"),p.id="finished-button",p.innerHTML="mark finished",y.appendChild(p),p.onclick=function(){l.push(r),n.pop(),r.classList.remove("active"),r.classList.add("finished"),r.classList.add("hidden"),r.classList.add("disabled"),document.getElementById("project-buttons"+r.id).style.display="none",r.childNodes.forEach((e=>{e.contentEditable=!1}))};let v=document.createElement("button");v.classList.add("delete-button"),v.id="delete-button",v.innerHTML="delete project",y.appendChild(v),v.onclick=function(){window.confirm("Do you really want to delete this?")&&(this.parentNode.parentNode.remove(),n.pop())},r.appendChild(y)}}})();var l=document.getElementById("form1"),d=document.getElementById("searchbox"),c=document.getElementById("project-container"),o=(document.getElementById("task-container"),document.getElementById("project-button")),s=document.getElementById("cancel-button1"),a=document.getElementById("add-button"),r=document.getElementById("finished-projects-button"),u=document.getElementById("active-button");o.onclick=function(){var e=d.value;d.value=null,l.style.visibility="hidden",c.style.visibility="visible",n.addProject(e),u.disabled=!0,u.style.opacity="0.5"},s.onclick=function(){l.style.visibility="hidden",document.getElementById("title-container").style.visibility="visible",document.getElementById("control-panel").style.visibility="visible",c.style.visibility="visible"},d.addEventListener("keydown",(function(e){13===e.keyCode&&(e.preventDefault(),o.click())})),a.onclick=function(){document.getElementById("control-panel").style.visibility="hidden",l.style.visibility="visible",c.style.visibility="hidden",d.placeholder="add a project",d.focus()},r.onclick=function(){r.disabled=!0,r.style.opacity="0.5",a.disabled=!0,u.disabled=!1,u.style.opacity="1",document.querySelectorAll(".active").forEach((e=>e.classList.toggle("hidden"))),document.querySelectorAll(".finished").forEach((e=>e.classList.toggle("hidden")))},u.onclick=function(){a.disabled=!1,u.disabled=!0,u.style.opacity="0.5",r.disabled=!1,r.style.opacity="1",document.querySelectorAll(".active").forEach((e=>e.classList.toggle("hidden"))),document.querySelectorAll(".finished").forEach((e=>e.classList.toggle("hidden"))),0==document.querySelectorAll(".active").length&&a.click()}})();